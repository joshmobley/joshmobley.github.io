define(["require","exports","./toc.module","prism"],function(t,e,o){"use strict";function n(){$(".model-open").on("click",function(t){t.preventDefault();i($(this).data("model"),$(this).attr("href"),"work")}),$(".model-blog").on("click",function(t){t.preventDefault();i($(this).attr("href"),$(this).attr("href"),"writing")})}function i(t,e,n,i){void 0===i&&(i="#model");var l=$(i+" .model-close"),r=$(i),s=$(i+" .model-content"),d=new o.TOC;if("work"==n){$(i+" iframe").attr("src",e),$(r).removeClass().addClass("work"),$.get(n+"/"+t+"/content.html",function(t){s.html(t)})}"writing"==n&&($(r).removeClass().addClass("writing"),$.get(e,function(t){s.html(t),Prism.highlightAll(!0),d.destroyTOC(),d.buildTOC()})),$("body").css("overflow","hidden"),r.fadeIn(),l.off().on("click",function(t){t.preventDefault(),$(i).fadeOut(),$("body").css("overflow","auto")})}e.__esModule=!0,e.default=n});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLm1vZHVsZS50cyJdLCJuYW1lcyI6WyJkZWZhdWx0XzEiLCIkIiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibW9kZWxCdWlsZCIsInRoaXMiLCJkYXRhIiwiYXR0ciIsIm1vZGVsRGF0YSIsImVtYmVkVVJJIiwiY29udGVudFR5cGUiLCJtb2RlbE9iaiIsImNsb3NlIiwib2JqIiwiY29udGVudCIsInRvYyIsInRvY19tb2R1bGVfMSIsIlRPQyIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJnZXQiLCJodG1sIiwiUHJpc20iLCJoaWdobGlnaHRBbGwiLCJkZXN0cm95VE9DIiwiYnVpbGRUT0MiLCJjc3MiLCJmYWRlSW4iLCJvZmYiLCJmYWRlT3V0IiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6ImdGQUdBLFNBQUFBLEtBRUlDLEVBQUUsZUFBZUMsR0FBSSxRQUNqQixTQUFTQyxHQUNMQSxFQUFNQyxnQkFJTkMsR0FIMkJKLEVBQUVLLE1BQU1DLEtBQUssU0FDYk4sRUFBRUssTUFBTUUsS0FBSyxRQUNiLFVBS25DUCxFQUFFLGVBQWVDLEdBQUksUUFDakIsU0FBVUMsR0FDTkEsRUFBTUMsZ0JBSU5DLEdBSDJCSixFQUFFSyxNQUFNRSxLQUFLLFFBQ2JQLEVBQUVLLE1BQU1FLEtBQUssUUFDYixhQU92QyxRQUFBSCxHQUNJSSxFQUNBQyxFQUNBQyxFQUNBQyxPQUFBLEtBQUFBLElBQUFBLEVBQUEsU0FHQSxJQUFJQyxHQUFtQlosRUFBR1csRUFBVyxpQkFDakNFLEVBQW1CYixFQUFHVyxHQUN0QkcsRUFBbUJkLEVBQUdXLEVBQVcsbUJBQ2pDSSxFQUFnQixHQUFJQyxHQUFBQyxHQUV4QixJQUFtQixRQUFmUCxFQUF1QixDQUNGVixFQUFHVyxFQUFXLFdBQzdCSixLQUFLLE1BQU9FLEdBQ2xCVCxFQUFHYSxHQUFNSyxjQUFjQyxTQUFTLFFBQ2hDbkIsRUFBRW9CLElBQUtWLEVBQWMsSUFBTUYsRUFBWSxnQkFBaUIsU0FBU0YsR0FDN0RRLEVBQVFPLEtBQUtmLEtBSUYsV0FBZkksSUFDQVYsRUFBR2EsR0FBTUssY0FBY0MsU0FBUyxXQUNoQ25CLEVBQUVvQixJQUFLWCxFQUFXLFNBQVNILEdBQ3ZCUSxFQUFRTyxLQUFLZixHQUNiZ0IsTUFBTUMsY0FBYSxHQUNuQlIsRUFBSVMsYUFDSlQsRUFBSVUsY0FLWnpCLEVBQUUsUUFBUTBCLElBQUksV0FBWSxVQUUxQmIsRUFDS2MsU0FDTGYsRUFDS2dCLE1BQ0EzQixHQUFJLFFBQVMsU0FBU0MsR0FDbkJBLEVBQU1DLGlCQUNOSCxFQUFFVyxHQUFVa0IsVUFDWjdCLEVBQUUsUUFBUTBCLElBQUksV0FBVywwQkFqRXJDSSxFQUFBLFFBQUEvQiIsImZpbGUiOiJtb2RlbC5tb2R1bGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUT0MgfSBmcm9tICcuL3RvYy5tb2R1bGUnO1xuaW1wb3J0ICdwcmlzbSc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCl7XG5cbiAgICAkKCcubW9kZWwtb3BlbicpLm9uKCAnY2xpY2snLCBcbiAgICAgICAgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCBtb2RlbCAgICAgICA6IHN0cmluZyA9ICQodGhpcykuZGF0YSgnbW9kZWwnKTtcbiAgICAgICAgICAgIGxldCBlbWJlZFVSSSAgICA6IHN0cmluZyA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnRUeXBlIDogc3RyaW5nID0gJ3dvcmsnO1xuICAgICAgICAgICAgbW9kZWxCdWlsZChtb2RlbCwgZW1iZWRVUkksIGNvbnRlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAkKCcubW9kZWwtYmxvZycpLm9uKCAnY2xpY2snLCBcbiAgICAgICAgZnVuY3Rpb24oIGV2ZW50ICl7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGV0IG1vZGVsICAgICAgIDogc3RyaW5nID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICBsZXQgZW1iZWRVUkkgICAgOiBzdHJpbmcgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIGxldCBjb250ZW50VHlwZSA6IHN0cmluZyA9ICd3cml0aW5nJztcbiAgICAgICAgICAgIG1vZGVsQnVpbGQoIG1vZGVsLCBlbWJlZFVSSSwgY29udGVudFR5cGUpO1xuICAgICAgICB9XG4gICAgKTtcblxufVxuXG5mdW5jdGlvbiBtb2RlbEJ1aWxkKCBcbiAgICBtb2RlbERhdGEgICA6IHN0cmluZywgXG4gICAgZW1iZWRVUkkgICAgOiBzdHJpbmcsIFxuICAgIGNvbnRlbnRUeXBlIDogc3RyaW5nLCBcbiAgICBtb2RlbE9iaiAgICA6IHN0cmluZyA9ICcjbW9kZWwnIFxuKXtcblxuICAgIGxldCBjbG9zZSAgIDogSlF1ZXJ5ID0gJCggbW9kZWxPYmogKyAnIC5tb2RlbC1jbG9zZScgKTtcbiAgICBsZXQgb2JqICAgICA6IEpRdWVyeSA9ICQoIG1vZGVsT2JqICk7XG4gICAgbGV0IGNvbnRlbnQgOiBKUXVlcnkgPSAkKCBtb2RlbE9iaiArICcgLm1vZGVsLWNvbnRlbnQnICk7XG4gICAgbGV0IHRvYyAgICAgOiBUT0MgPSBuZXcgVE9DO1xuXG4gICAgaWYoIGNvbnRlbnRUeXBlID09ICd3b3JrJyApe1xuICAgICAgICBsZXQgZW1iZWQgOiBKUXVlcnkgPSAkKCBtb2RlbE9iaiArICcgaWZyYW1lJyk7XG4gICAgICAgIGVtYmVkLmF0dHIoJ3NyYycsIGVtYmVkVVJJKTtcbiAgICAgICAgJCggb2JqICkucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnd29yaycpO1xuICAgICAgICAkLmdldCggY29udGVudFR5cGUgKyBcIi9cIiArIG1vZGVsRGF0YSArICcvY29udGVudC5odG1sJywgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBjb250ZW50Lmh0bWwoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICBpZiggY29udGVudFR5cGUgPT0gJ3dyaXRpbmcnICl7XG4gICAgICAgICQoIG9iaiApLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ3dyaXRpbmcnKTtcbiAgICAgICAgJC5nZXQoIGVtYmVkVVJJICwgZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBjb250ZW50Lmh0bWwoZGF0YSk7XG4gICAgICAgICAgICBQcmlzbS5oaWdobGlnaHRBbGwodHJ1ZSk7XG4gICAgICAgICAgICB0b2MuZGVzdHJveVRPQygpO1xuICAgICAgICAgICAgdG9jLmJ1aWxkVE9DKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG5cbiAgICBvYmpcbiAgICAgICAgLmZhZGVJbigpO1xuICAgIGNsb3NlXG4gICAgICAgIC5vZmYoKVxuICAgICAgICAub24oICdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkKG1vZGVsT2JqKS5mYWRlT3V0KCk7XG4gICAgICAgICAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdycsJ2F1dG8nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxufVxuIl19
