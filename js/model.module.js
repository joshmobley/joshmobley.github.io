define(["require","exports","./toc.module","prism"],function(t,e,o){"use strict";function n(){$(".model-open").on("click",function(t){t.preventDefault();var e=$(this).data("model"),o=$(this).attr("href"),n="work";i(e,o,n)}),$(".model-blog").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),o=$(this).attr("href"),n="writing";i(e,o,n)})}function i(t,e,n,i){void 0===i&&(i="#model");var r=$(i+" .model-close"),l=$(i),s=$(i+" .model-content"),a=new o.TOC;if("work"==n){var d=$(i+" iframe");d.attr("src",e),$(l).removeClass().addClass("work"),$.get(n+"/"+t+"/content.html",function(t){s.html(t)})}"writing"==n&&($(l).removeClass().addClass("writing"),$.get(e,function(t){s.html(t),Prism.highlightAll(!0),a.destroyTOC(),a.buildTOC()})),$("body").css("overflow","hidden"),l.fadeIn(),r.off().on("click",function(t){t.preventDefault(),$(i).fadeOut(),$("body").css("overflow","auto")})}e.__esModule=!0,e.default=n});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVsLm1vZHVsZS50cyJdLCJuYW1lcyI6WyJkZWZhdWx0XzEiLCIkIiwib24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibW9kZWwiLCJ0aGlzIiwiZGF0YSIsImVtYmVkVVJJIiwiYXR0ciIsImNvbnRlbnRUeXBlIiwibW9kZWxCdWlsZCIsIm1vZGVsRGF0YSIsIm1vZGVsT2JqIiwiY2xvc2UiLCJvYmoiLCJjb250ZW50IiwidG9jIiwidG9jX21vZHVsZV8xIiwiVE9DIiwiZW1iZWQiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZ2V0IiwiaHRtbCIsIlByaXNtIiwiaGlnaGxpZ2h0QWxsIiwiZGVzdHJveVRPQyIsImJ1aWxkVE9DIiwiY3NzIiwiZmFkZUluIiwib2ZmIiwiZmFkZU91dCIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJnRkFHQSxTQUFBQSxLQUVJQyxFQUFFLGVBQWVDLEdBQUksUUFDakIsU0FBU0MsR0FDTEEsRUFBTUMsZ0JBQ04sSUFBSUMsR0FBdUJKLEVBQUVLLE1BQU1DLEtBQUssU0FDcENDLEVBQXVCUCxFQUFFSyxNQUFNRyxLQUFLLFFBQ3BDQyxFQUF1QixNQUMzQkMsR0FBV04sRUFBT0csRUFBVUUsS0FJcENULEVBQUUsZUFBZUMsR0FBSSxRQUNqQixTQUFVQyxHQUNOQSxFQUFNQyxnQkFDTixJQUFJQyxHQUF1QkosRUFBRUssTUFBTUcsS0FBSyxRQUNwQ0QsRUFBdUJQLEVBQUVLLE1BQU1HLEtBQUssUUFDcENDLEVBQXVCLFNBQzNCQyxHQUFZTixFQUFPRyxFQUFVRSxLQU16QyxRQUFBQyxHQUNJQyxFQUNBSixFQUNBRSxFQUNBRyxHQUFBLFNBQUFBLElBQUFBLEVBQUEsU0FHQSxJQUFJQyxHQUFtQmIsRUFBR1ksRUFBVyxpQkFDakNFLEVBQW1CZCxFQUFHWSxHQUN0QkcsRUFBbUJmLEVBQUdZLEVBQVcsbUJBQ2pDSSxFQUFnQixHQUFJQyxHQUFBQyxHQUV4QixJQUFtQixRQUFmVCxFQUF1QixDQUN2QixHQUFJVSxHQUFpQm5CLEVBQUdZLEVBQVcsVUFDbkNPLEdBQU1YLEtBQUssTUFBT0QsR0FDbEJQLEVBQUdjLEdBQU1NLGNBQWNDLFNBQVMsUUFDaENyQixFQUFFc0IsSUFBS2IsRUFBYyxJQUFNRSxFQUFZLGdCQUFpQixTQUFTTCxHQUM3RFMsRUFBUVEsS0FBS2pCLEtBSUYsV0FBZkcsSUFDQVQsRUFBR2MsR0FBTU0sY0FBY0MsU0FBUyxXQUNoQ3JCLEVBQUVzQixJQUFLZixFQUFXLFNBQVNELEdBQ3ZCUyxFQUFRUSxLQUFLakIsR0FDYmtCLE1BQU1DLGNBQWEsR0FDbkJULEVBQUlVLGFBQ0pWLEVBQUlXLGNBS1ozQixFQUFFLFFBQVE0QixJQUFJLFdBQVksVUFFMUJkLEVBQ0tlLFNBQ0xoQixFQUNLaUIsTUFDQTdCLEdBQUksUUFBUyxTQUFTQyxHQUNuQkEsRUFBTUMsaUJBQ05ILEVBQUVZLEdBQVVtQixVQUNaL0IsRUFBRSxRQUFRNEIsSUFBSSxXQUFXLDBCQWpFckNJLEVBQUEsUUFBQWpDIiwiZmlsZSI6Im1vZGVsLm1vZHVsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRPQyB9IGZyb20gJy4vdG9jLm1vZHVsZSc7XG5pbXBvcnQgJ3ByaXNtJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKXtcblxuICAgICQoJy5tb2RlbC1vcGVuJykub24oICdjbGljaycsIFxuICAgICAgICBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGV0IG1vZGVsICAgICAgIDogc3RyaW5nID0gJCh0aGlzKS5kYXRhKCdtb2RlbCcpO1xuICAgICAgICAgICAgbGV0IGVtYmVkVVJJICAgIDogc3RyaW5nID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XG4gICAgICAgICAgICBsZXQgY29udGVudFR5cGUgOiBzdHJpbmcgPSAnd29yayc7XG4gICAgICAgICAgICBtb2RlbEJ1aWxkKG1vZGVsLCBlbWJlZFVSSSwgY29udGVudFR5cGUpO1xuICAgICAgICB9XG4gICAgKTtcblxuICAgICQoJy5tb2RlbC1ibG9nJykub24oICdjbGljaycsIFxuICAgICAgICBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBsZXQgbW9kZWwgICAgICAgOiBzdHJpbmcgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIGxldCBlbWJlZFVSSSAgICA6IHN0cmluZyA9ICQodGhpcykuYXR0cignaHJlZicpO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnRUeXBlIDogc3RyaW5nID0gJ3dyaXRpbmcnO1xuICAgICAgICAgICAgbW9kZWxCdWlsZCggbW9kZWwsIGVtYmVkVVJJLCBjb250ZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICApO1xuXG59XG5cbmZ1bmN0aW9uIG1vZGVsQnVpbGQoIFxuICAgIG1vZGVsRGF0YSAgIDogc3RyaW5nLCBcbiAgICBlbWJlZFVSSSAgICA6IHN0cmluZywgXG4gICAgY29udGVudFR5cGUgOiBzdHJpbmcsIFxuICAgIG1vZGVsT2JqICAgIDogc3RyaW5nID0gJyNtb2RlbCcgXG4pe1xuXG4gICAgbGV0IGNsb3NlICAgOiBKUXVlcnkgPSAkKCBtb2RlbE9iaiArICcgLm1vZGVsLWNsb3NlJyApO1xuICAgIGxldCBvYmogICAgIDogSlF1ZXJ5ID0gJCggbW9kZWxPYmogKTtcbiAgICBsZXQgY29udGVudCA6IEpRdWVyeSA9ICQoIG1vZGVsT2JqICsgJyAubW9kZWwtY29udGVudCcgKTtcbiAgICBsZXQgdG9jICAgICA6IFRPQyA9IG5ldyBUT0M7XG5cbiAgICBpZiggY29udGVudFR5cGUgPT0gJ3dvcmsnICl7XG4gICAgICAgIGxldCBlbWJlZCA6IEpRdWVyeSA9ICQoIG1vZGVsT2JqICsgJyBpZnJhbWUnKTtcbiAgICAgICAgZW1iZWQuYXR0cignc3JjJywgZW1iZWRVUkkpO1xuICAgICAgICAkKCBvYmogKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCd3b3JrJyk7XG4gICAgICAgICQuZ2V0KCBjb250ZW50VHlwZSArIFwiL1wiICsgbW9kZWxEYXRhICsgJy9jb250ZW50Lmh0bWwnLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGNvbnRlbnQuaHRtbChkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGlmKCBjb250ZW50VHlwZSA9PSAnd3JpdGluZycgKXtcbiAgICAgICAgJCggb2JqICkucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnd3JpdGluZycpO1xuICAgICAgICAkLmdldCggZW1iZWRVUkkgLCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGNvbnRlbnQuaHRtbChkYXRhKTtcbiAgICAgICAgICAgIFByaXNtLmhpZ2hsaWdodEFsbCh0cnVlKTtcbiAgICAgICAgICAgIHRvYy5kZXN0cm95VE9DKCk7XG4gICAgICAgICAgICB0b2MuYnVpbGRUT0MoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdycsICdoaWRkZW4nKTtcblxuICAgIG9ialxuICAgICAgICAuZmFkZUluKCk7XG4gICAgY2xvc2VcbiAgICAgICAgLm9mZigpXG4gICAgICAgIC5vbiggJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQobW9kZWxPYmopLmZhZGVPdXQoKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93JywnYXV0bycpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG59XG4iXX0=
